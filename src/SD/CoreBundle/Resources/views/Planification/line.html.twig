{# src/SD/CoreBundle/Resources/views/Planification/line.html.twig #}

{% extends "SDCoreBundle::layout.html.twig" %}

{% block title %}{{ parent() }} line{% endblock %}

{% block body %}

<p>
<img src="{{ asset('bundles/sdcore/images/planification-32.png') }}">&nbsp;<strong>{{ planification.name }}</strong>
</p>

{{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

<table class="table table-striped">
    <thead>
    <tr>
    <th colspan=3>{{ 'timetable.plural'|trans }}
    </th>
    </tr>
    </thead>
    <tbody>
<tr>
	<td><img src="{{ asset('bundles/sdcore/images/time-32.png') }}">&nbsp;{{ ('day.MON')|trans }}</td>
	<td>{{ form_row(form.activate_MON) }}</td>
	<td>{{ form_row(form.timetable_MON) }}</td>
</tr>
<tr>
	<td><img src="{{ asset('bundles/sdcore/images/time-32.png') }}">&nbsp;{{ ('day.TUE')|trans }}</td>
	<td>{{ form_row(form.activate_TUE) }}</td>
	<td>{{ form_row(form.timetable_TUE) }}</td>
</tr>
    </tbody>
</table>

{{ form_errors(form) }}

{{ form_rest(form) }}

<div class="col-sm-12 well well-sm btn-group">
	<a href="{{ path('sd_core_planification_edit', { 'planificationID': planification.ID }) }}" class="btn btn-default"><i class="glyphicon glyphicon-chevron-left"></i>{{ 'cancel'|trans }}</a>
	<button type="submit" class="btn btn-success"><i class="glyphicon glyphicon-ok"></i> {{ 'validate'|trans }}</button>
</div>

<script>
var activate_MON = document.getElementById('sd_corebundle_planificationLinesNDB_activate_MON');
var activate_TUE = document.getElementById('sd_corebundle_planificationLinesNDB_activate_TUE');

var timetable_MON = document.getElementById('sd_corebundle_planificationLinesNDB_timetable_MON');
var timetable_TUE = document.getElementById('sd_corebundle_planificationLinesNDB_timetable_TUE');

if (activate_MON.checked) {
	timetable_MON.disabled = false;
} else {
	timetable_MON.disabled = true;
}
if (activate_TUE.checked) {
	timetable_TUE.disabled = false;
} else {
	timetable_TUE.disabled = true;
}

activate_MON.addEventListener('change', function() {
	if (activate_MON.checked) {
		timetable_MON.disabled = false;
	} else {
		timetable_MON.disabled = true;
	}
});

activate_TUE.addEventListener('change', function() {
	if (activate_TUE.checked) {
		timetable_TUE.disabled = false;
	} else {
		timetable_TUE.disabled = true;
	}
});
</script>

{% endblock %}
