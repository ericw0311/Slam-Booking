{# src/SD/CoreBundle/Resources/views/Planification/add.html.twig #}

{% extends "SDCoreBundle::layout.html.twig" %}

{% block title %}{{ parent() }} planification{% endblock %}

{% block body %}

{% set rtIcons = constant('SD\\CoreBundle\\Entity\\Constants::RESOURCE_TYPE_ICON') %}
{% set rcIcons = constant('SD\\CoreBundle\\Entity\\Constants::RESOURCE_CLASSIFICATION_ICON') %}

<div class="col-sm-6">

<table class="table table-striped">
	<tbody>
{% for resource in selectedResources %}
	<tr>
{% if selectedResources|length > 1 %}
{% if loop.index > 1 %}
	<td><a href="{{ path('sd_core_planification_add', { 'type': type, 'resourceIDList': resource.resourceIDList_sortBefore }) }}" class="glyphicon glyphicon-arrow-up" title="{{ 'sort.before'|trans }}"></a></td>
{% else %}
	<td></td>
{% endif %}
{% if loop.index < selectedResources|length %}
	<td><a href="{{ path('sd_core_planification_add', { 'type': type, 'resourceIDList': resource.resourceIDList_sortAfter }) }}" class="glyphicon glyphicon-arrow-down" title="{{ 'sort.after'|trans }}"></a></td>
{% else %}
	<td></td>
{% endif %}
{% endif %}
{% if resource.internal %}
	<td><img src="{{ asset('bundles/sdcore/images/' ~ rcIcons[resource.code] ~ '-32.png') }}">&nbsp;{{ resource.name }}</td>
{% else %}
	<td><img src="{{ asset('bundles/sdcore/images/' ~ rtIcons[resource.type] ~ '-32.png') }}">&nbsp;{{ resource.name }}</td>
{% endif %}
	<td><a href="{{ path('sd_core_planification_add', { 'type': type, 'resourceIDList': resource.resourceIDList_unselect }) }}" class="glyphicon glyphicon-arrow-right" title="{{ 'planification.resource.unselect'|trans }}"></a></td>
	</tr>
{% endfor %}
	</tbody>
</table>

</div>

<div class="col-sm-6">

<table class="table table-striped">
	<tbody>
{% for resource in resourcesToPlanify %}
	<tr>
	<td><a href="{{ path('sd_core_planification_add', { 'type': type, 'resourceIDList': resource.resourceIDList	 }) }}" class="glyphicon glyphicon-arrow-left" title="{{ 'planification.resource.select'|trans }}"></a></td>
{% if resource.internal %}
	<td><img src="{{ asset('bundles/sdcore/images/' ~ rcIcons[resource.code] ~ '-32.png') }}">&nbsp;{{ resource.name }}</td>
{% else %}
	<td><img src="{{ asset('bundles/sdcore/images/' ~ rtIcons[resource.type] ~ '-32.png') }}">&nbsp;{{ resource.name }}</td>
{% endif %}
	</tr>
{% endfor %}
	</tbody>
</table>

</div>

{% endblock %}
