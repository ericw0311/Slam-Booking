{# src/SD/CoreBundle/Resources/views/ResourceClassification/index.html.twig #}

{% extends "SDCoreBundle::layout.html.twig" %}

{% block title %}{{ parent() }} resourceClassification{% endblock %}

{% block body %}

{% set resourceTypes = constant('SD\\CoreBundle\\Entity\\Constants::RESOURCE_TYPE') %}
{% set resourceTypeIcons = constant('SD\\CoreBundle\\Entity\\Constants::RESOURCE_TYPE_ICON') %}
{% set resourceClassifications = constant('SD\\CoreBundle\\Entity\\Constants::RESOURCE_CLASSIFICATION') %}
{% set resourceClassificationIcons = constant('SD\\CoreBundle\\Entity\\Constants::RESOURCE_CLASSIFICATION_ICON') %}

<div class="col-sm-4">

{% block listRow %}
{% for l_resourceType in resourceTypes %}
<div class="row">
{% if l_resourceType == resourceType %}
<a href="{{ path('sd_core_resourceclassification_display', { 'resourceType': l_resourceType }) }}" class="list-group-item active"><img src="{{ asset('bundles/sdcore/images/' ~ resourceTypeIcons[l_resourceType] ~ '-32.png') }}">&nbsp;{{ ('resourceType.plural.' ~ l_resourceType)|trans }}</a>
{% else %}
<a href="{{ path('sd_core_resourceclassification_display', { 'resourceType': l_resourceType }) }}" class="list-group-item"><img src="{{ asset('bundles/sdcore/images/' ~ resourceTypeIcons[l_resourceType] ~ '-32.png') }}">&nbsp;{{ ('resourceType.plural.' ~ l_resourceType)|trans }}</a>
{% endif %}
</div>
{% endfor %}
{% endblock %}

</div>

<div class="col-sm-8">

<table class="table table-striped">
	<tbody>
{% for resourceClassification in resourceClassifications[resourceType] %}
	<tr>
	<td><img src="{{ asset('bundles/sdcore/images/' ~ resourceClassificationIcons[resourceClassification] ~ '-32.png') }}">&nbsp;{{ ('resourceClassification.plural.' ~ resourceClassification)|trans }}</td>
{% if resourceClassification in activeResourceClassifications %}
	<td><img src="{{ asset('bundles/sdcore/images/green-check-32.png') }}"></td>
	<td><a href="{{ path('sd_core_resourceclassification_display', { 'resourceType': resourceType }) }}" class="btn btn-default"><i class="glyphicon glyphicon-remove"></i> {{ 'unactivate'|trans }}</a></td>
{% else %}
	<td><img src="{{ asset('bundles/sdcore/images/red-cross-32.png') }}"></td>
	<td><a href="{{ path('sd_core_resourceclassification_display', { 'resourceType': resourceType }) }}" class="btn btn-primary"><i class="glyphicon glyphicon-ok"></i> {{ 'activate'|trans }}</a></td>
{% endif %}
	</tr>
{% endfor %}
	</tbody>
</table>

</div>

{% endblock %}
